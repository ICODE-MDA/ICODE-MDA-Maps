<!DOCTYPE html>
<html>
<head>
    <title>ICODE-MDA Vessel Details</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" type="text/css" href="css/mapstyle.css">
    <link rel="stylesheet" type="text/css" href="css/mapstyle-mobile.css" media="only screen and (max-device-width: 480px)">
	<link rel="stylesheet" type="text/css" href="css/vesselDetails.css">
	
	<!-- OWF library -->
	<script type="text/javascript" src="/ICODEMDAMaps-Julie/owf/js-min/owf-widget-debug.js"></script>
	 
	<!-- jquery library -->
    <script type="text/javascript" language="Javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
	
	<!-- accordion UI library -->
	<script type="text/javascript" src="scripts/jquery-ui-1.10.3.custom.js"></script>
    <link rel="stylesheet" href="css/custom-theme/jquery-ui-1.10.3.custom.css">
    
	<!-- slideshow UI library 
	<link rel="stylesheet" type="text/css" href="css/lightSlider.css">
	<script type="text/javascript" src="scripts/jquery.lightSlider.js"></script>
	-->
	<!-- vesselDetails.js -->
	<script type="text/javascript" src="scripts/vesselDetails.js"></script>
	
	<!-- initialize the widget -->
	<script>
	function init() {
		var launchData = OWF.Launcher.getLaunchData(); //Maps widget launch status and data
		var launchDataStatus = "";
		var launchDataMsg = "";
		if (launchData) {
			var parseMsg = launchData.split(" ");
			launchDataStatus = parseMsg[0];
			launchDataMsg = parseMsg[1];
		}
		
		if (!launchData) {
			// not launched by Maps Widget
			initialize(false,"",""); 												//display generic info
			launchOwfMaps();														//launch Maps widget
			owfLaunchStatus = true;													//change status of Maps widget to launched
			OWF.Eventing.subscribe("mapsToVesselDetails",this.updateVesselDetails); //subscribe to channel
		} else {
			// launched by Maps Widget
			if(launchDataStatus == 'false') {
				// first time launching Vessel Details widget; subscribe to channel
				OWF.Eventing.subscribe("mapsToVesselDetails",this.updateVesselDetails);
				initialize(true,'selectImo',launchDataMsg);
			}
		}
	}
	
	var updateVesselDetails = function(sender,msg) {
		// listen to channel; get imo number
		initialize(true,'selectImo',(msg.split(" "))[1]);
	};

	// add OWF Eventing API on page load
	owfdojo.addOnLoad(function() { 
		OWF.ready(init); 
	}); 
	</script>
	
	<!-- call accordion -->
	<script>
    $(function() {
        $( "#accordion" ).accordion({
            collapsible: true,
            heightStyle: "fill"
        });
        $(window).resize(function(){
            $("#accordion").accordion("refresh");
        });           
    });
    </script>
	
	<!-- call lightSlider 
	<script>
	$(document).ready(function() {
		$("#lightSlider").lightSlider({
			gallery: true,
			minSlide: 1,
			maxSlide: 1,
			currentPagerPosition: 'left'
		}); 
	});
	</script>
	-->	
</head>

<body>

<div class="outerContainer">
	<!-- left panel contains menu for navigating catalog of ship info -->
	<div class="leftPanel">
		<div id="accordion" class="accordion">
			<h3>Registration</h3>
			<div>
				<button class="leftPanelButton" onClick="triggerRegistration();">Registration</button>
			</div>
			<h3>Ownership</h3>
			<div id="ownership">
				<button class="leftPanelButton" onClick="triggerOwnCurrent();">Current Ownership</button>
				<button class="leftPanelButton" onClick="triggerOwnOriginal();">Original Ownership</button>
				<button class="leftPanelButton" onClick="triggerOwnViewAll();">View All</button>
			</div>
			<h3>Commercial History</h3>
			<div id="commercialHistory">
				<button class="leftPanelButton" onclick="triggerCommercialHistory();">Commercial History</button>
			</div>
			<h3>Class</h3>
			<div id="class">
				<button class="leftPanelButton" onClick="triggerClass();">Class</button>
			</div>
			<h3>Surveys</h3>
			<div id="surveys">
				<button class="leftPanelButton" onClick="triggerSurveys();">Surveys</button>
			</div>
			<h3>Construction</h3>
			<div id="construction">
				<button class="leftPanelButton" onClick="triggerConOverview();">Overview</button><br />
				<button class="leftPanelButton" onClick="triggerConShipbuilder();">Shipbuilder Status</button><br />
				<button class="leftPanelButton" onClick="triggerConStatus();">Status</button><br />
				<button class="leftPanelButton" onClick="triggerConConstructionDetail();">Construction Detail</button><br />
				<button class="leftPanelButton" onClick="triggerConDimensions();">Dimensions</button><br />
				<button class="leftPanelButton" onClick="triggerConTonnages();">Tonnages</button><br />
				<button class="leftPanelButton" onClick="triggerConArrangement();">Arrangement</button><br />
				<button class="leftPanelButton" onClick="triggerConViewAll();">View All</button>
			</div>
			<h3>Cargo & Gear</h3>
			<div id="cargoAndGear">
				<button class="leftPanelButton" onClick="triggerCngOverview();">Overview</button><br />
				<button class="leftPanelButton" onClick="triggerCngCargo();">Cargo</button><br />
				<button class="leftPanelButton" onClick="triggerCngGear();">Gears</button><br />
				<button class="leftPanelButton" onClick="triggerCngViewAll();">View All</button>
			</div>
			<h3>Machinery</h3>
			<div id="machinery">
				<button class="leftPanelButton" onClick="triggerMacPrimeMover();">Prime Mover</button><br />
				<button class="leftPanelButton" onClick="triggerMacThrusters();">Thrusters</button><br />
				<button class="leftPanelButton" onClick="triggerMacViewAll();">View All</button>
			</div>
			<h3>Classified</h3>
			<div id="classified">
				<button class="leftPanelButton" onClick="triggerClaInspections();">Inspections</button><br />
				<button class="leftPanelButton" onClick="triggerClaCertificates();">Ship Certificates</button><br />
				<button class="leftPanelButton" onClick="triggerClaSafety();">Safety Management</button><br />
				<button class="leftPanelButton" onClick="triggerClaCasualties();">Casualties</button><br />
				<button class="leftPanelButton" onClick="triggerClaCrew();">Crew List</button><br />
				<button class="leftPanelButton" onClick="triggerClaViewAll();">View All</button>
			</div>
			<h3>Event Timeline</h3>
			<div id="eventTimeline">
				<button class="leftPanelButton" onClick="triggerEventTimeline();">Event Timeline</button><br />
			</div>
			<h3>Movements</h3>
			<div id="movements">
				AIS Link<br />
				Live AIS Position<br />
				Movements<br />
				Trading Areas<br />
			</div>
			<h3>Ship Performance</h3>
			<div id="shipPerformance">
				<button class="leftPanelButton" onClick="triggerPerformance();">Ship Performance</button><br />
			</div>
			<h3>Help</h3>
			<div id="help">
				<button class="leftPanelButton" onClick="">Glossary</button><br />
				<button class="leftPanelButton" onClick="">Tutorial</button><br />
				<button class="leftPanelButton" onClick="">FAQ</button><br />
				<button class="leftPanelButton" onClick="">Contact</button><br />
			</div>
		</div>
	</div>

	<div class="rightPanel">
		<!-- search panel for searching specific info in database -->
		<div class="search">
			<select id="searchType">
				<option value="selectMmsi" selected="selected">MMSI</option>
				<option value="selectImo" selected="selected">IMO Number</option>
				<option value="selectShipName">Ship Name</option>
			</select>
			<span><input type="text" id="searchTerm" value="9624328" placeholder=" Type search terms here (e.g. MMSI, vessel name, vessel type, etc.)"></input></span>
<!--			<span><input type="text" id="searchTerm" placeholder=" Type search terms here (e.g. MMSI, vessel name, vessel type, etc.)"></input></span>
-->			<span><button onClick="searchResults();">Search</button>
		</div>
		
		<!-- top panel contains general ship info -->
		<div class="topPanel">
			<div class="title">Ship Detail</div>
			<div id="shipDetails" class="shipDetailsContainer">
				<div class="shipDetailsColsInner">
					<div class="shipDetailsLabel">Ship Name</div>
					<div class="shipDetailsLabel">LR/IMO No.</div>
					<div class="shipDetailsLabel">Call Sign</div>
					<div class="shipDetailsLabel">MMSI No.</div>
					<div class="shipDetailsLabel">Flag</div>
					<div class="shipDetailsLabel">Operator</div>
				</div>
				<div class="shipDetailsColsOuter">
					<div id="detailShipName"></div>
					<div id="detailImo"></div>
					<div id="detailCallSign"></div>
					<div id="detailMmsi"></div>
					<div id="detailFlag"></div>
					<div id="detailOperator"></div>
				</div>
				<div class="shipDetailsColsInner">
					<div class="shipDetailsLabel">Shiptype</div>
					<div class="shipDetailsLabel">Gross Tonnage</div>
					<div class="shipDetailsLabel">Deadweight</div>
					<div class="shipDetailsLabel">Date of Build</div>
					<div class="shipDetailsLabel">Status</div>
					<div class="shipDetailsLabel">Shipbuilder</div>
				</div>
				<div class="shipDetailsColsOuter">
					<div id="detailShiptype"></div>
					<div id="detailGross"></div>
					<div id="detailDeadweight"></div>
					<div id="detailDateOfBuild"></div>
					<div id="detailShipStatus"></div>
					<div id="detailShipbuilder"></div>
				</div>
				<!--
				<div class="shipDetailsCols">
					<img src="img/1411693.simg" width="200" height="120" style="margin: 20px;" />
				</div>
				-->
			</div> 
		</div>
		
		<!-- main panel contains detailed ship info -->
		<div class="mainPanel"></div>	
	</div>
</div>

<!--
	<center><h1>Ship Details</h1></center>
	
	<div>&nbsp;</div>
	
	<div id="accordion" class="accordion">

		<h3>Class</h3>
		<div id="">
		</div>
		<h3>Surveys</h3>
		<div id="">
		</div> 	
		<h3>Construction</h3>
		<div id="">
		</div> 
		<h3>Cargo & Gear</h3>
		<div id="">
		</div>
		<h3>Machinery</h3>
		<div id="">
		</div> 
		<h3>Classified</h3>
		<div id="">
		</div> 
		<h3>Event Timeline</h3>
		<div id="">
		</div>
		<h3>Photographs</h3>
		<div id="photographs">
			<ul id="lightSlider">
				<li data-thumb="img/1367473.simg">
					<img src="img/1367473.simg" />
				</li>
				<li data-thumb="img/1411693.simg">
					<img src="img/1411693.simg" />
				</li>
				<li data-thumb="img/1519290.simg">
					<img src="img/1519290.simg" />
				</li>
				<li data-thumb="img/1519292.simg">
					<img src="img/1519292.simg" />
				</li>
				<li data-thumb="img/1519294.simg">
					<img src="img/1519294.simg" />
				</li>
				<li data-thumb="img/1519296.simg">
					<img src="img/1519296.simg" />
				</li>
			</ul>
		</div>
		<h3>Movements</h3>
		<div id="movements">
		</div>  
		<h3>Ship Performance</h3>
		<div id="">
		</div> 	
	</div>
-->
</body>
</html>

