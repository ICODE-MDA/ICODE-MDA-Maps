<!DOCTYPE html>
<html>
  <head>
     <title>ICODE-MDA Maps</title>
     <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
     <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />

     <link rel="stylesheet" type="text/css" href="css/mapstyle.css">
     <link rel="stylesheet" type="text/css" href="css/mapstyle-mobile.css" media="only screen and (max-device-width: 480px)">
     <link rel="stylesheet" type="text/css" href="css/alert.css">

     <!-- Google Maps API
     <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=geometry,drawing,weather,visualization&sensor=false"> </script>
     -->

     <!-- ArcGIS Maps API -->
     <link rel="stylesheet" href="http://js.arcgis.com/3.11/dijit/themes/claro/claro.css">
     <link rel="stylesheet" href="http://js.arcgis.com/3.11/esri/css/esri.css">
     <style>
        /* make map zoom slider labels white, claro uses black by default */
        .claro .dijitRuleLabel {
           //display: none;
           color: white;
        }
        .claro .dijitRuleMark {
           border: 1px solid #fff;
        }
        .esriLargeSliderTicks { 
           //display: none; 
        }
        #mapDiv {
           padding: 0;
           margin: 0;
           height: 100%;
        }
     </style>
     <script src="http://js.arcgis.com/3.11/"></script>
     <!--  <script src="http://js.arcgis.com/3.11compact/"></script> -->

     <!-- Web Framework CSS - Bootstrap (getbootstrap.com) and Bootstrap-map-js (github.com/esri/bootstrap-map-js) -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet">
     <link rel="stylesheet" href="css/bootstrapmap.css">


     <script type="text/javascript" language="Javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
     <script>window.jQuery || document.write('<script src="scripts/jquery.min.js"><\/script>')</script>

     <script>
        //Select all text if query bar comes into focus
        $(document).ready(function() {
           $("#query:text").focus(function() { 
              $(this).one('mouseup', function(event){
                 event.preventDefault();
              }).select();
           });
           $("#geocodeAddress").focus(function() { 
              $(this).one('mouseup', function(event){
                 event.preventDefault();
              }).select();
           });
        });
     </script>

     <!-- 
     <script>
        $(document).ready(function() {
           NProgress.configure({ 
              ease: 'ease', 
              trickleRate: 0.02,
              trickleSpeed: 50,
              showSpinner: false,
              minimum: 0.3,
           });
        });
     </script>
     -->
     <script>
        //Main userid global setting
        var userid = 'icodeuser';   //temporarily set to icodeuser for testing

        $(document).ready(function() {
           $('#login_nav')
           .mouseover(function() {
              $('#loginarrow').hide();
              $('#loginusername').text(userid);
              $('#loginusername').show();
           })
           .mouseout(function() {
              $('#loginarrow').show();
              $('#loginusername').hide();
           })
           ;
        });
     </script>

     <!-- Main JavaScript for controlling map -->
     <script type="text/javascript" src="scripts/icode-maps.js"></script>

  </head>

  <!-- <body onload="initialize()"> -->
  <body class="claro" onload="initialize()">

     <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
     <div class="container-fluid">
        <div class="navbar-header">
           <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
           </button>
           <a class="navbar-brand" href="#">ICODE-MDA Maps</a>
        </div>

        <div id="navbar" class="navbar-collapse collapse">
           <ul class="nav navbar-nav navbar-right">
              <li><a href="#">Dashboard</a></li>
              <li><a href="#">Settings</a></li>
              <li><a href="#">Profile</a></li>
              <li><a href="#">Help</a></li>
           </ul>
           
           <form class="navbar-form navbar-right">
              <input id="query" class="form-control" type="text" name="query" onkeypress="if (event.which == 13) {enteredQuery();return false;}" value="QUERY RUNNING..."><input hidden="true" type="hidden">
           </form>
        </div>
     </div>
     </nav>



     <div id="container">
        <!-- BEGIN LEFT PANEL -->  
        <!-- END LEFT PANEL -->  

        <!-- BEGIN MAP AREA -->
        <div id="mapDiv">
        </div>
        <!-- END MAP AREA -->
     </div>


     <div id="menuDiv" class="panel panel-primary panel-fixed">
        <div class="panel-heading">
           <h3 class="panel-title">Menu</h3>
           <button id="chevron" class="btn btn-primary btn-xs btn-absolute">          
              <span class="glyphicon glyphicon-chevron-up"></span>
           </button>
        </div>
        <div class="panel-body collapse in">
           <p>Menu items go here</p>
        </div>
     </div>     

     <div id="keyboard-shortcut-modal" title="Keyboard Shortcuts">
        <p>
        <pre>
           <b>?</b>&#9;&#9; Display this shortcut dialog box<br>
           <b>Spacebar</b>&#9; Refresh targets in current view<br>
           <b>A</b>&#9;&#9; Toggle auto-refresh targets<br>
           <b>C</b>&#9;&#9; Clear all tracks<br>
           <b>G</b>&#9;&#9; Toggle clustering<br>
           <b>H</b>&#9;&#9; Hide/show menu panel<br>
           <b>L</b>&#9;&#9; Toggle LAISIC/AIS targets<br>
           <b>N</b>&#9;&#9; Toggle showing vessel names<br>
           <b>P</b>&#9;&#9; Toggle port layer<br>
           <b>Q</b>&#9;&#9; Select the query bar<br>
           <b>R</b>&#9;&#9; Refresh browser<br>
           <b>W</b>&#9;&#9; Toggle weather layer<br>
           <b>-</b>&#9;&#9; Zoom out<br>
           <b>+</b>&#9;&#9; Zoom in<br>
           <b>Arrows keys</b>&#9; Pan around map<br>
           <b>ESC</b>&#9;&#9; Close this dialog box<br></pre>
        </p>
     </div>

     <form role="form">
        <div id="geocodepanel" class="form-group">
           <div class="input-group">
              <input id="geocodeAddress" class="form-control" type="textbox" placeholder="San Diego, CA">
              <span class="input-group-btn">
                 <input type="button" class="btn btn-success" value="Set Map Center" onclick="codeAddress()">
              </span>
           </div>
        </div>
     </form>

  </body>
</html>

