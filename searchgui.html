<!DOCTYPE html>
<html>
<head>
    <title>ICODE-MDA Query Builder</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	
	<link rel="stylesheet" type="text/css" href="css/searchgui.css">
	
	<!-- OWF library -->
	<script type="text/javascript" src="/ICODEMDAMaps-Julie/owf/js-min/owf-widget-debug.js"></script>
	 
	<!-- jquery library -->
    <script type="text/javascript" language="Javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>

	<!-- accordion UI library -->
	<script type="text/javascript" src="scripts/jquery-ui-1.10.3.custom.js"></script>
    <link rel="stylesheet" href="css/custom-theme/jquery-ui-1.10.3.custom.css">
	
	<script type="text/javascript" src="scripts/searchgui.js"></script>
	
	<!-- call accordion -->
	<script>
    $(function() {
        $( "#accordion" ).accordion({
            collapsible: true,
            heightStyle: "fill"
        });
        $(window).resize(function(){
            $("#accordion").accordion("refresh");
        });           
    });
    </script>
	
</head>

<body onload="initialize();">
<div class="outerContainer">
	<div class="title"><center>Query Builder</center></div>
	<div class="leftPanel">
		<div class="subtitle">Query Options</div>
		<div id="accordion" class="accordion">
			<h3>Help</h3>
			<div><button style="border:0;" onclick="triggerTutorial();">Tutorial</button></div>
			<h3>Saved Searches</h3>
			<div id="searchHistory"></div>
			<h3>Tables</h3>
			<div id="tables">
				Select from:<br />
				<select id="tableName">
					<option value="1" selected="selected">Vessels Memory</option>
					<option value="2">RADAR/LAISIC</option>
					<option value="3">PVOL-PDM</option>
				</select>
			</div>
			<h3>Geographic Coordinates</h3>
			<div id="latLon">
				<b>Latitude:</b><br />
				Between <input id="minLat" name="minLat" type="text" value="-90" style="width: 50px">
				to <input id="maxLat" name="maxLat" type="text" value="90" style="width: 50px"><br /><br />
				<b>Longitude:</b><br />
				Between <input id="minLon" name="minLon" type="text" value="-180" style="width: 50px">
				to <input id="maxLon" name="maxLon" type="text" value="180" style="width: 50px"><br /><br />				
			</div>
			<h3>Date-Time</h3>			
			<div id="datetime">
				<b>Starting Date-Time</b><br />
				<input id="minMonth" type="text" placeholder="Month" style="width: 50px">
				<b>/</b><input id="minDay" type="text" placeholder="Day" style="width: 50px">
				<b>/</b><input id="minYear" type="text" placeholder="Year" style="width: 50px"><br /><br />
				<input id="minHour" type="text" placeholder="Hour" style="width: 50px">
				<b>:</b><input id="minMinute" type="text" placeholder="Minute" style="width: 50px">
				<b>:</b><input id="minSecond" type="text" placeholder="Second" style="width: 50px">
				<br /><br />	
				<b>Ending Date-Time</b><br />
				<input id="maxMonth" type="text" placeholder="Month" style="width: 50px">
				<b>/</b><input id="maxDay" type="text" placeholder="Day" style="width: 50px">
				<b>/</b><input id="maxYear" type="text" placeholder="Year" style="width: 50px"><br /><br />
				<input id="maxHour" type="text" placeholder="Hour" style="width: 50px">
				<b>:</b><input id="maxMinute" type="text" placeholder="Minute" style="width: 50px">
				<b>:</b><input id="maxSecond" type="text" placeholder="Second" style="width: 50px">
				<br /><br />
				Tip: Date-time format is <br />MM/DD/YYYY HH:MM:SS<br /><br />
				Note: Time is calculated locally.
			</div>	
			<h3>Limit</h3>
			<div id="limitResults">
				<input type="checkbox" id="searchguiLimitCheck" onclick="enableLimitInput();">  
				Limit Results<br />
				<p id="searchguiLimit" style="display:none"><input type="text" id="searchguiLimitText" value="100"> vessels</input></p>
				<br />Tip: To see all results do not check "Limit Results" checkbox.
			</div>
		</div>
	</div>
	<div class="rightPanel">
		<!-- search panel for searching specific info in database -->
		<div class="search">
			<div>
				<!-- trigger click event to search when 'Enter' key pressed in search bar -->
				<input type="text" id="searchguiQuery" onkeypress="if(event.which==13){searchguiResults();}" placeholder=" Type search term here (e.g. MMSI, ship name, etc.)"></input>
			</div>
			<div class="searchContainer">
				<div class="searchLeft">
					<select id="searchguiConstraint">
						<option value="1" selected="selected">contains</option>
						<option value="2">exactly like</option>
						<option value="3">begins with</option>
						<option value="4">ends with</option>
					</select>
				</div>
				<div class="searchRight">
					<button onClick="searchguiResults();">Search</button>
				</div>
			</div>
		</div>
		<div class="mainPanel">
			<div class="subtitle" id="subtitle" style="margin-top: 10px;"></div>
			<div id="queryString"></div>
			<div id="results"></div>
		</div>
	</div>
</div>
</body>
</html>